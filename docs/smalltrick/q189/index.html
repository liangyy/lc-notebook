<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Q189. Rotate Array - LeetCode NoteBook</title>
<meta name="description" content="Write down temporary &#39;wisdom&#39; ..">
<meta name="generator" content="Hugo 0.76.3" />
<link href="https://liangyy.github.io/lc-notebook/index.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://liangyy.github.io/lc-notebook/smalltrick/q189/">
<link rel="stylesheet" href="https://liangyy.github.io/lc-notebook/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://liangyy.github.io/lc-notebook/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script src="https://liangyy.github.io/lc-notebook/js/bundle.js"></script><style>
:root {--custom-background-color: #99ccff;}
</style>
<meta property="og:title" content="Q189. Rotate Array" />
<meta property="og:description" content="Given an array, rotate the array to the right by k steps, where k is non-negative. Follow up: Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem. Could you do it in-place with O(1) extra space? Example 1: Input: nums = [1,2,3,4,5,6,7], k = 3 Output: [5,6,7,1,2,3,4] Explanation: rotate 1 steps to the right: [7,1,2,3,4,5,6] rotate 2 steps to the right: [6,7,1,2,3,4,5] rotate 3 steps to the right: [5,6,7,1,2,3,4] Example 2: Input: nums = [-1,-100,3,99], k = 2 Output: [3,99,-1,-100] Explanation: rotate 1 steps to the right: [99,-1,-100,3] rotate 2 steps to the right: [3,99,-1,-100] Constraints: 1 &lt;= nums." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://liangyy.github.io/lc-notebook/smalltrick/q189/" />
<meta property="article:published_time" content="2020-10-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-10-10T00:00:00+00:00" /><meta property="og:site_name" content="LeetCode NoteBook" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Q189. Rotate Array"/>
<meta name="twitter:description" content="Given an array, rotate the array to the right by k steps, where k is non-negative. Follow up: Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem. Could you do it in-place with O(1) extra space? Example 1: Input: nums = [1,2,3,4,5,6,7], k = 3 Output: [5,6,7,1,2,3,4] Explanation: rotate 1 steps to the right: [7,1,2,3,4,5,6] rotate 2 steps to the right: [6,7,1,2,3,4,5] rotate 3 steps to the right: [5,6,7,1,2,3,4] Example 2: Input: nums = [-1,-100,3,99], k = 2 Output: [3,99,-1,-100] Explanation: rotate 1 steps to the right: [99,-1,-100,3] rotate 2 steps to the right: [3,99,-1,-100] Constraints: 1 &lt;= nums."/>
<meta itemprop="name" content="Q189. Rotate Array">
<meta itemprop="description" content="Given an array, rotate the array to the right by k steps, where k is non-negative. Follow up: Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem. Could you do it in-place with O(1) extra space? Example 1: Input: nums = [1,2,3,4,5,6,7], k = 3 Output: [5,6,7,1,2,3,4] Explanation: rotate 1 steps to the right: [7,1,2,3,4,5,6] rotate 2 steps to the right: [6,7,1,2,3,4,5] rotate 3 steps to the right: [5,6,7,1,2,3,4] Example 2: Input: nums = [-1,-100,3,99], k = 2 Output: [3,99,-1,-100] Explanation: rotate 1 steps to the right: [99,-1,-100,3] rotate 2 steps to the right: [3,99,-1,-100] Constraints: 1 &lt;= nums.">
<meta itemprop="datePublished" content="2020-10-10T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-10-10T00:00:00+00:00" />
<meta itemprop="wordCount" content="475">



<meta itemprop="keywords" content="" />
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };

  window.addEventListener('load', (event) => {
      document.querySelectorAll("mjx-container").forEach(function(x){
        x.parentElement.classList += 'has-jax'})
    });

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body><div class="container"><header>
<h1>LeetCode NoteBook</h1><a href="https://github.com/liangyy/lc-notebook" class="github"><i class="fab fa-github"></i></a>
<p class="description">Write down temporary &#39;wisdom&#39; ..</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/lc-notebook/">Home</a></li>
<li><a href="https://twitter.com/yanyu_liang">Twitter</a></li>
<li><a href="/lc-notebook/about/">About Hugo</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>Q189. Rotate Array</h1>
<pre><code>Given an array, rotate the array to the right by k steps, where k is non-negative.

Follow up:

Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem.
Could you do it in-place with O(1) extra space?
 

Example 1:

Input: nums = [1,2,3,4,5,6,7], k = 3
Output: [5,6,7,1,2,3,4]
Explanation:
rotate 1 steps to the right: [7,1,2,3,4,5,6]
rotate 2 steps to the right: [6,7,1,2,3,4,5]
rotate 3 steps to the right: [5,6,7,1,2,3,4]
Example 2:

Input: nums = [-1,-100,3,99], k = 2
Output: [3,99,-1,-100]
Explanation: 
rotate 1 steps to the right: [99,-1,-100,3]
rotate 2 steps to the right: [3,99,-1,-100]
 

Constraints:

1 &lt;= nums.length &lt;= 2 * 104
-231 &lt;= nums[i] &lt;= 231 - 1
0 &lt;= k &lt;= 105
</code></pre><p>The idea is simple, just to keep updating by jumping to new position <code>i &lt;- (i + k) % n</code>.
Some minor thing is that we can do <code>k = k % n</code> before getting started.
And if <code>k = 0</code>, we can immediately return without doing anything.</p>
<p>The difficulty for me is that I know there will be multiple cycles but it is really hard to know beforehand how many cycles are needed.
I was thinking about using a for loop to go through all these cycles in order.</p>
<p>But, such difficulty can be avoided. Or, we don&rsquo;t need to know the number of cycles beforehand.
Instead, we can keep track of the number of positions that have been updated.
And whenever we ends one cycle, we can safely go to <code>i &lt;- i + 1</code> and start a new cycle since we can be sure that it has not been visited.
Why? If the next position has been visited by one of the previous ones, no matter which one, we know that the same thing will happen for the next next position as well (since all the previous cycle starts have been visited). Following this, we will have all positions being visited already.
So, whenever there is unvisited position, the next position has to be unvisited.</p>
<p>To make this idea more generally, essentially, the strategy here is to come up with an order of visiting (no duplicated visit guaranteed) and visit until we hit all.</p>
<p>Python submission.</p>
<pre><code>class Solution:
    def rotate(self, nums: List[int], k: int) -&gt; None:
        &quot;&quot;&quot;
        Do not return anything, modify nums in-place instead.
        &quot;&quot;&quot;
        if len(nums) &lt;= 1:
            return nums
        n = len(nums)
        k = k % n
        if k == 0:
            return nums
        count = 0
        curr_idx = 0
        curr_val = nums[curr_idx]
        while curr_idx &lt; k and count &lt; n:
            start_idx = curr_idx
            curr_val = nums[curr_idx]
            # print(nums, curr_idx)
            while True:
                next_idx = (curr_idx + k) % n
                next_val = nums[next_idx]
                nums[next_idx] = curr_val
                curr_val, curr_idx = next_val, next_idx
                count += 1
                if start_idx == curr_idx:
                    break
            curr_idx += 1
        return nums
                
</code></pre><div class="edit-meta">
Last updated on 10 Oct 2020


<br>
Published on 10 Oct 2020
<br><a href="https://github.com/liangyy/lc-notebook/edit/master/content/SmallTrick/q189.md" class="edit-page"><i class="fas fa-pen-square"></i> Edit on GitHub</a></div><nav class="pagination"><a class="nav nav-prev" href="https://liangyy.github.io/lc-notebook/smalltrick/" title="Small Trick"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - Small Trick</a>
<a class="nav nav-next" href="https://liangyy.github.io/lc-notebook/smalltrick/q337/" title="Q337: House Robber III">Next - Q337: House Robber III <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main>
<div class="sidebar">

<nav class="open-menu">
<ul>
<li class=""><a href="https://liangyy.github.io/lc-notebook">Home</a></li>

<li class=""><a href="https://liangyy.github.io/lc-notebook/needtoknow/">Need to Know</a>
  
<ul class="sub-menu">
<li class=""><a href="https://liangyy.github.io/lc-notebook/needtoknow/q316/">Q316. Remove Duplicate Letters</a></li>
<li class=""><a href="https://liangyy.github.io/lc-notebook/needtoknow/q459/">Q459. Repeated Substring Pattern</a></li>
<li class=""><a href="https://liangyy.github.io/lc-notebook/needtoknow/q600/">Q600: Non-negative Integers without Consecutive Ones</a></li>
<li class=""><a href="https://liangyy.github.io/lc-notebook/needtoknow/q847/">Q847. Shortest Path Visiting All Nodes</a></li>
<li class=""><a href="https://liangyy.github.io/lc-notebook/needtoknow/q309/">Q309: Best Time to Buy and Sell Stock with Cooldown</a></li>
</ul>
  
</li>

<li class="parent"><a href="https://liangyy.github.io/lc-notebook/smalltrick/">Small Trick</a>
  
<ul class="sub-menu">
<li class="active"><a href="https://liangyy.github.io/lc-notebook/smalltrick/q189/">Q189. Rotate Array</a></li>
<li class=""><a href="https://liangyy.github.io/lc-notebook/smalltrick/q337/">Q337: House Robber III</a></li>
</ul>
  
</li>

<li class=""><a href="https://liangyy.github.io/lc-notebook/interesting/">Interesting</a>
  
<ul class="sub-menu">
<li class=""><a href="https://liangyy.github.io/lc-notebook/interesting/q384/">Q384. Shuffle an Array</a></li>
<li class=""><a href="https://liangyy.github.io/lc-notebook/interesting/q995/">Q995: Minimum Number of K Consecutive Bit Flips</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>

</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
